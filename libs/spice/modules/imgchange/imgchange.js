!function(a,b){function c(c,e){"use strict";function f(){b(h.selector).each(function(a,c){var d=null;d=b(this).data("image-src"),h.srcDataAry.push(d)}).data("spice.imgChange",h),b(a).resize(function(){b(a).trigger("resize"+h.selector)}).off("resize"+h.selector).on("resize"+h.selector,b.spice.resizeScreenDebounce(h.config)).trigger("resize"+h.selector)}c=c||".events-imgChange",b.isPlainObject(e)||(e={});var g,h,i,j,k,l,m=!0,n=null;h=this,this.options=b.extend({},d,e),this.srcDataAry=[],this.selector=c,n=b(h.options.scrollSelector).data("spice.kvScroll"),k=this.options.detectTime,this.handleResize=function(a){if(n){if(!n.isNotAnimate)return;i=(new Date).getTime(),m&&(n.stop(),m=!1),j&&clearTimeout(j),j=setTimeout(function(){(new Date).getTime()-i>k&&(n.start(),m=!0)},k)}g!=a&&(b(h.selector).each(function(c,d){b(this).replaceWith(function(){return b(d).clone(!0).attr("src",h.srcDataAry[c][a])})}),l=h.options.callBack,l&&"function"==typeof l&&l(b(h.selector)),g=a)},this.config=b.extend(this.options.config,{isRetinaCheck:!(!e.config||!e.config.isRetinaCheck)&&e.config.isRetinaCheck,callBack:this.handleResize}),this.config.debounceTime=0,this.init=function(){f()},this.destroy=function(){b(this.selector).removeData("spice.imgChange"),b(a).off("resize"+h.selector)}}var d={config:b.spice.config,callBack:"",scrollSelector:"",detectTime:500};b.spice.imgChange=function(a,b){return new c(a,b).init()}}(window,jQuery);