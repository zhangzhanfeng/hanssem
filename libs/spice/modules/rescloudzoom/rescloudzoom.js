!function(a){"use strict";function b(b,c){if(!b||a.isPlainObject(b))return!1;var d=[];return a(b).each(function(b,f){var g=a(f),h=g.data("spice.rescloudzoom");h&&h.destroy(),g.data("spice.rescloudzoom",h=new e(g,c,a.spice.rescloudzoom.fnIndex)),a.spice.rescloudzoom.fnIndex+=1,d.push(h)}),d}var c={imgClass:"rescloudzoom-images",cloudzoomConfig:{standard:{animationTime:300,easeTime:0,zoomWidth:200,zoomHeight:300,zoomOffsetX:20},medium:{animationTime:300,easeTime:0,zoomPosition:"inside"},small:""},isRetinaCheck:!1,resize:a.spice.config.resize},d={setCloudzoom:function(b,c){var d=c.elem,e=c.opt,f=e.cloudzoomConfig[b];d.find("."+e.imgClass).each(function(b,c){var d=a(c);d.data("CloudZoom")&&(d.data("CloudZoom").destroy(),a(".cloudzoom-blank, .cloudzoom-zoom-inside").remove()),f&&a.spice.cloudZoom(d,f)})},removeCloudzoom:function(b){b.elem.find("."+b.opt.imgClass).each(function(b,c){var d=a(c);d.data("CloudZoom")&&(d.data("CloudZoom").destroy(),a(".cloudzoom-blank, .cloudzoom-zoom-inside").remove())})}},e=function(b,d,e){var f=this;f.opt=a.extend({},c,d),f.opt.fnIndex=e,f.elem=b,f.init()};e.prototype={init:function(){var b=this,c=b.elem,e=b.opt;c.data("spice.rescloudzoomConfig")&&this.destroy(),c.data("spice.rescloudzoomConfig",e);var f=a.extend({},e,{callBack:function(c){d.setCloudzoom(c,b),a(".cloudzoom-blank, .cloudzoom-zoom-inside").remove()}}),g=a.spice.resizeScreenDebounce(f);a(window).on("resize.rescloudzoom"+e.fnIndex,function(){d.removeCloudzoom(b),g()}).trigger("resize.rescloudzoom"+e.fnIndex)},destroy:function(){var b=this,c=b.elem,d=b.opt,e=c.data("spice.rescloudzoomConfig").fnIndex;c.find("."+d.imgClass).each(function(b,c){var d=a(c);d.data("CloudZoom")&&(d.data("CloudZoom").destroy(),a(".cloudzoom-blank, .cloudzoom-zoom-inside").remove())}),a(window).off("resize.rescloudzoom"+e),c.removeData("spice.rescloudzoomConfig")},reset:function(a){d.setCloudzoom(this.elem.data("media"),this)}},a.spice.rescloudzoom=b,a.spice.rescloudzoom.fnIndex=0}(jQuery);