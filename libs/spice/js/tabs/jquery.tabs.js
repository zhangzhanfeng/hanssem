/**
 *
 * 插件模版
 * 详细用法请参考：http://xxxx/
 *
 * @ author 
 * @ version 
 *
 */
!function(a){"use strict";function b(b,c){if(!b||a.isPlainObject(b))return!1;var e=[];return a(b).each(function(b,f){var g=a(f),h=g.data("spice.tabs");h&&h.destroy(),g.data("spice.tabs",h=new d(g,c)),e.push(h)}),e}var c={tabsConfig:{standard:{show:{easing:"show",speed:0},hide:{easing:"hide",speed:0}},medium:{show:{easing:"show",speed:0},hide:{easing:"hide",speed:0}},small:{show:{easing:"slideDown",speed:"normal"},hide:{easing:"slideUp",speed:"normal"}}},resize:a.spice.config.resize,titlecontainer:"spice-md-tabs-title",titleItemLable:"li",contentContainer:"spice-md-tabs-content",contentItem:"spice-md-tabs-item",mobileTitle:"spice-md-tabs-item-title",content:"spice-md-tabs-item-content",currentClass:"is-active",tinyscrollbarCallBack:null,tinyscrollbarConfig:{},customScroll:null,isIscroll:!1,mediaTinyscrollbar:{small:!1,medium:!0,standard:!0},TinyscrollbarDisabledClass:"is-inhert",callBack:function(a,b){}},d=function(b,d){var e=this;e.elem=a(b),e.opt=a.extend({},c,d),e.init()};d.prototype={init:function(){var b=this,c=b.elem,d=b.opt,e=a("."+d.titlecontainer,c),f=a(d.titleItemLable,e),g=a("."+d.contentContainer,c),h=a("."+d.contentItem,g),i=a("."+d.mobileTitle,h),j=a("."+d.content,h);b.$titleItem=f,b.$contentItem=h,b.$content=j,b.$mobileTitle=i,i.length<=0&&(f.each(function(b,c){a(c).find("a").clone().prependTo(h.eq(b)).wrap("<div class="+d.mobileTitle+"></div>")}),i=a("."+d.mobileTitle,h));var k=a.spice.resizeScreenDebounce({isRetinaCheck:!1,callBack:function(c){var e=d.tabsConfig[c];b.tinysScrollBar(d.mediaTinyscrollbar,c),f.off("tap").on("tap",function(f){var g=a(this),i=g.index(),k=h.eq(i),l=k.find("."+d.content),m=h.filter("."+d.currentClass),n=m.find("."+d.content);if(!b.isNotAnimate()||g.hasClass(d.currentClass))return!1;g.addClass(d.currentClass).siblings().removeClass(d.currentClass),k.addClass(d.currentClass).siblings().removeClass(d.currentClass),"fadeIn"==e.show.easing&&(n.height()<l.height()?n.css({position:"absolute",top:0}):l.css({position:"absolute",top:0})),l.stop(!0,!0)[e.show.easing](e.show.speed,function(){b.tinysScrollBar(d.mediaTinyscrollbar,c),d.callBack&&a.isFunction(d.callBack)&&d.callBack(g,l)}),a("."+d.content+":visible",h).not(l[0])[e.hide.easing](e.hide.speed,function(){"fadeIn"==e.show.easing&&j.css({position:"relative"})})}),i.off("tap").on("tap",function(g){var h=a(this),i=h.closest("."+d.contentItem),j=h.siblings("."+d.content),k=i.index();if(!b.isNotAnimate()||i.hasClass(d.currentClass))return!1;j[e.show.easing](e.show.speed,function(){b.tinysScrollBar(d.mediaTinyscrollbar,c),d.callBack&&a.isFunction(d.callBack)&&d.callBack(h,j)}),i.addClass(d.currentClass).siblings().removeClass(d.currentClass).find("."+d.content)[e.hide.easing](e.hide.speed,function(){}),f.removeClass(d.currentClass).eq(k).addClass(d.currentClass)})}});a(window).off("resize.tabsScreenDebounce").on("resize.tabsScreenDebounce",k).trigger("resize.tabsScreenDebounce")},tinysScrollBar:function(b,c){var d=this,e=d.elem;b[c]?a(".tinyscrollbar .viewport",e).removeClass(d.opt.TinyscrollbarDisabledClass):a(".tinyscrollbar .viewport",e).addClass(d.opt.TinyscrollbarDisabledClass),d.opt.customScroll?a.isFunction(d.opt.customScroll)&&d.opt.customScroll(d):(d.opt.tinyscrollbarConfig.callBack||(d.opt.tinyscrollbarConfig.callBack=function(b){d.opt.tinyscrollbarCallBack&&a.isFunction(d.opt.tinyscrollbarCallBack)&&d.opt.tinyscrollbarCallBack(d,b)}),a.spice.tools.tinyscrollbar({elem:a(".tinyscrollbar",e),options:d.opt.tinyscrollbarConfig,isIscroll:d.opt.isIscroll}))},getCurrentElem:function(){var b=this;return a(window).width()>767?a(b.$titleItem).filter("."+b.opt.currentClass):a(b.$contentItem).filter("."+b.opt.currentClass).find("."+b.opt.mobileTitle)},contentHeight:function(){var b=this,c=a(b.$contentItem).filter("."+b.opt.currentClass);return a("."+b.opt.content,c).outerHeight(!0)},isNotAnimate:function(){var b=[];return a.each(this.$content,function(c,d){b.push(a(d).is(":not(:animated)"))}),a.inArray(!1,b)<0},destroy:function(){var a=this;a.$titleItem.off("tap").removeClass(a.opt.currentClass).eq(0).addClass(a.opt.currentClass),a.$mobileTitle.off("tap"),a.$contentItem.removeClass(a.opt.currentClass).eq(0).addClass(a.opt.currentClass),a.$content.removeAttr("style"),a.$content.data("spice.tinyscrollbar")&&a.$content.data("spice.tinyscrollbar").remove(),a.elem.removeData("spice.tabs")}},a.spice.tabs=b}(jQuery);